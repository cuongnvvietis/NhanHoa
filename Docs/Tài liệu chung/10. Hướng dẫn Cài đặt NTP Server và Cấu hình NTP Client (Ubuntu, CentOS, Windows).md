
# HÆ°á»›ng dáº«n CÃ i Ä‘áº·t NTP Server vÃ  Cáº¥u hÃ¬nh NTP Client (Ubuntu, CentOS, Windows)

---

## 1. CÃ i Ä‘áº·t NTP Server trÃªn Ubuntu

### BÆ°á»›c 1: CÃ i Ä‘áº·t Chrony (NTP Server)
```bash
sudo apt update
sudo apt install chrony -y
```

### BÆ°á»›c 2: Cáº¥u hÃ¬nh Chrony
- Má»Ÿ file cáº¥u hÃ¬nh:
  ```bash
  sudo nano /etc/chrony/chrony.conf
  ```
- ThÃªm dáº£i IP máº¡ng cá»§a báº¡n Ä‘á»ƒ cho phÃ©p cÃ¡c client truy cáº­p:
  ```plaintext
  allow 192.168.1.0/24
  ```
  *(Thay `192.168.1.0/24` báº±ng dáº£i máº¡ng cá»§a báº¡n).*

- Äáº£m báº£o dÃ²ng sau Ä‘Æ°á»£c uncomment Ä‘á»ƒ NTP Server hoáº¡t Ä‘á»™ng khi khÃ´ng cÃ³ internet:
  ```plaintext
  local stratum 10
  ```

- LÆ°u vÃ  thoÃ¡t.

### BÆ°á»›c 3: Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥ Chrony
```bash
sudo systemctl restart chrony
```

### BÆ°á»›c 4: Kiá»ƒm tra tráº¡ng thÃ¡i Chrony
```bash
sudo systemctl status chrony
```

### BÆ°á»›c 5: Kiá»ƒm tra Ä‘á»“ng bá»™ NTP Server
- Sá»­ dá»¥ng lá»‡nh sau Ä‘á»ƒ kiá»ƒm tra:
  ```bash
  chronyc sources
  ```

![Command Prompt](https://github.com/cuongnvvietis/NhanHoa/blob/main/Docs/Picture/T%C3%A0i%20li%E1%BB%87u%20chung/Screenshot_213.png)

---

## 2. Cáº¥u hÃ¬nh NTP Client trÃªn CentOS

### BÆ°á»›c 1: CÃ i Ä‘áº·t Chrony
```bash
sudo yum install chrony -y
```

### BÆ°á»›c 2: Cáº¥u hÃ¬nh Chrony
- Má»Ÿ file cáº¥u hÃ¬nh:
  ```bash
  sudo nano /etc/chrony/chrony.conf
  ```
- Thay tháº¿ hoáº·c thÃªm dÃ²ng chá»‰ Ä‘á»‹nh NTP Server:
  ```plaintext
  server <IP_NTP_SERVER> iburst
  ```
  *(Thay `<IP_NTP_SERVER>` báº±ng Ä‘á»‹a chá»‰ IP cá»§a NTP Server Ubuntu).*

### BÆ°á»›c 3: Khá»Ÿi Ä‘á»™ng vÃ  kÃ­ch hoáº¡t dá»‹ch vá»¥
```bash
sudo systemctl start chronyd
sudo systemctl enable chronyd
```

### BÆ°á»›c 4: Kiá»ƒm tra Ä‘á»“ng bá»™
- Kiá»ƒm tra tráº¡ng thÃ¡i:
  ```bash
  sudo systemctl status chronyd
  ```
- Kiá»ƒm tra nguá»“n NTP:
  ```bash
  chronyc sources
  ```
- Äá»“ng bá»™ thá»§ cÃ´ng náº¿u cáº§n:
  ```bash
  sudo chronyc makestep
  ```

![Command Prompt](https://github.com/cuongnvvietis/NhanHoa/blob/main/Docs/Picture/T%C3%A0i%20li%E1%BB%87u%20chung/Screenshot_214.png)

---

## 3. Cáº¥u hÃ¬nh NTP Client trÃªn Windows

### BÆ°á»›c 1: Truy cáº­p vÃ o cáº¥u hÃ¬nh NTP
1. Má»Ÿ **Control Panel**.
2. Chá»n **Clock and Region > Date and Time > Internet Time**.
3. Nháº¥n **Change Settings**.

### BÆ°á»›c 2: Cáº¥u hÃ¬nh NTP Server
1. Chá»n **Synchronize with an Internet time server**.
2. Nháº­p Ä‘á»‹a chá»‰ IP hoáº·c tÃªn miá»n cá»§a NTP Server:
   ```plaintext
   <IP_NTP_SERVER>
   ```
3. Nháº¥n **Update Now** Ä‘á»ƒ Ä‘á»“ng bá»™.

### BÆ°á»›c 3: Kiá»ƒm tra
1. Sau khi Ä‘á»“ng bá»™, tráº¡ng thÃ¡i sáº½ hiá»ƒn thá»‹ thÃ nh cÃ´ng.
2. Kiá»ƒm tra thá»i gian há»‡ thá»‘ng xem cÃ³ khá»›p vá»›i NTP Server khÃ´ng.

![Command Prompt](https://github.com/cuongnvvietis/NhanHoa/blob/main/Docs/Picture/T%C3%A0i%20li%E1%BB%87u%20chung/Screenshot_215.png)

---

## 4. Kiá»ƒm tra vÃ  Kháº¯c phá»¥c Sá»± Cá»‘

### TrÃªn Ubuntu (NTP Server):
- Kiá»ƒm tra cÃ¡c client káº¿t ná»‘i báº±ng lá»‡nh:
  ```bash
  chronyc clients
  ```

### TrÃªn CentOS (NTP Client):
- Náº¿u khÃ´ng Ä‘á»“ng bá»™, kiá»ƒm tra log:
  ```bash
  sudo journalctl -u chronyd
  ```

### TrÃªn Windows:
- Náº¿u khÃ´ng Ä‘á»“ng bá»™, kiá»ƒm tra tÆ°á»ng lá»­a Ä‘á»ƒ Ä‘áº£m báº£o ráº±ng cá»•ng UDP 123 Ä‘Æ°á»£c má»Ÿ.

---

ChÃºc báº¡n thÃ nh cÃ´ng trong viá»‡c triá»ƒn khai NTP Server vÃ  Client! ğŸ‰
